exit
params[:format].firstexit
params[:format].first
params[:format].last
params[:format]
params
exit
params
exit
params
c
@passsed_search
@passsed_search.map { |y| puts y.city }
@passsed_search.each { |y| puts y.city }
@passed_search
c
@passed_search.each { |y| puts y.name }
@passed_search.each { |y| y.name }
@passed_search.each { |y| y.name }}
@passed_search
c
x
c
exit
@date_search.include?(@unavailable_dates)
@date.include(@data_search)
@date.include?(@data_search)
exit
@date_seach
@date_search
@unavailable_dates
exit
x.unavailable_dates.all.each {|x|puts x.unavailable_date}
x.unavailable_dates.all.each {|x|puts x}
x.unavailable_dates.all.map { |a| a}
@unavailable_dates
exit
@listings
UnavailableDate.all
@date
exit
@check_in_date = Date.strptime(params[:listing][:check_in_date], "%m/%d/%Y")
params[:check_in_date]
[:check_in_date}
Date.strptime(params[:check_in_date], "%m/%d/%Y")
Date.today
@check_in_date = Date.strptime(params[:check_in_date], "%m/%d/%Y")
@check_in_date = Date.strptime(params[:reservation][:check_in_date], "%m/%d/%Y")
params
exit
UnavailableDate.all.each{|x|x.destroy}
UnavailableDate.all
Reservation.all
Re
Reservation.all
c
UnavailableDate.all
c
UnavailableDate.all
UnavailableDate
c
exit
UnavailableDate.all.each{|x|x.destroy}
@number
UnavailableDate.all
Unavailable.all
exit
UnavailableDate.all.each {|x| x.destroy}
@limit
UnavailableDate.order('created_at DESC')
UnavailableDate.order('created_at DESC').limit(@number)
UnavailableDate.all
c
exit
Reservation.all.each {|c| c.destroy}
UnavailableDate.all.each { |x| x.destroy}
UnavailableDate.all
c
Reservation.last.destroy
Reservation.last
Reservation.last.destroy
Reservation.all
exit
Date.strptime(params[:reservation][:check_in_date], "%m/%d/%Y")
Date.strftime(params[:reservation][:check_in_date], "%d/%m/%Y")
Date.strptime(params[:reservation][:check_in_date], "%d/%m/%Y")
params
exit
Reservation.where(user_id: params[:id]).each {|x| puts x.listing.name}
Reservation.where(user_id: params[:id]).each {|x| x.listings.name}
Reservation.where(user_id: params[:id]).each {|x| puts  x.listing_id}
Reservation.where(user_id: params[:id]).each {|x| x.listing_id}
Reservation.where(user_id: params[:id]).listing_id
Reservation.where(user_id: params[:id])
@reservations
@reservations.all.listings
@reservations.all
@reservations.listing_id
@reservations
Listing
Listing.reservations.all
Listing.reservations
@reservations.listing
@reservations.listings
@reservations
c
@reservations
exit
@reservations
c
params
exit
params
exit
params[:listing_id].all
params[:listing_id].each 
params[:listing_id].id
params[:listing_id]
params[:id]
@reservations
current_user
params
exit
params
@reservations
exit
params[:listing_id].ex
params[:listing_id].name
params[:listing_id].all
params[:listing_id]
params
@reservations
@reservations.listing
@reservations.
@reservations
exit
@reservations
c
exit
@reservation
exit
params[:amount_of_days]exit
params[:amount_of_days]
params:[amount_of_days]
params
exit
ex
@reservation.amount_of_days
@reservation.amount_of_days.to_i
Date.parse(@reservation.check_in_date)
(Date.parse(@reservation.check_in_date) + @reservation.amount_of_days.to_i)
@check_out_date
cehck_out_date
c
@check_out_date
c
params
exit
params
c
@reservation
exit
params
c
exit
@reservation
exit
params
exit
@listing
@flash
c
n
@unavailable_date
c
n
exit
@listing
  (@check_in_date..@check_out_date-1).each { |date|@listing.unavailable_date.create(unavailable_date: (date.strftime('%d/%m/%Y'))) }
  (@check_in_date..@check_out_date-1).each { |date|@listing.unavailable_dates.create(unavailable_date: (date.strftime('%d/%m/%Y'))) }
  end
  @listing.unavailable_dates.create(unavailable_date: (date.strftime('%d/%m/%Y')))
(@check_in_date..@check_out_date-1).each do |date|
@check_out_date = @check_in_date + params[:reservation][:amount_of_days].to_i
@check_in_date = Date.parse(params[:reservation][:check_in_date])
exit
@listing.unavailable_date.new
@listing.unavailable_dates.new
(@check_in_date..@check_out_date).each { |date| puts  date.strftime('%d/%m/%Y') }
(@check_in_date..@check_out_date).each { |date|  date.strftime('%d/%m/%Y') }
(@check_in_date..@check_out_date-1).each { |date|  date.strftime('%d/%m/%Y') }
(@check_in_date..@check_out_date-1).map { |date|  date.strftime('%d/%m/%Y') }
(@check_in_date..@check_out_date).map { |date|  date.strftime('%d/%m/%Y') }
@check_out_date = @check_in_date + params[:reservation][:amount_of_days].to_i
@check_in_date = Date.parse(params[:reservation][:check_in_date])
exit
a + 1.days
a = Date.parse(params[:reservation][:check_in_date])
(@check_in_date+1).to_s
@check_in_date
@check_in_date + 2.days
@check_in_date + 1.day
@check_in_date + 1.days
@check_in_date + 1.to_date
@check_in_date + 1
@check_out_date = (Date.parse(params[:reservation][:check_in_date])..(params[:reservation][:amount_of_days].to_i-1).days.since)
@check_out_date = (Date.parse(params[:reservation][:check_in_date])..(params[:reservation][:amount_of_days].to_i-1).days.since).strftime('%d/%m/%Y')
@check_out_date = (Date.parse(params[:reservation][:check_in_date])..(params[:reservation][:amount_of_days].to_i-1).days.since)..strftime('%d/%m/%Y')
@check_in_date = Date.parse(params[:reservation][:check_in_date]).strftime('%d/%m/%Y')
params
exit
(@date..1.days.since).map { |x| x }
(@date..1.days.since).map { |x| print x.to_s }
(@date..1.days.since).map { |x| print x }
(@date..2.days.since)
(@date..1.days.since)
@date
(@date..(params[:reservation][:amount_of_days].to_i)-1.since).map { |date| @unavailable_dates << date }
@date
@unavailable_dates = []
  @date = Date.parse(params[:reservation][:check_in_date]).strftime('%d/%m/%Y')
@date = Date.parse(params[check_in_date]).strftime('%d/%m/%Y')
Date.parse(params[:reservation][:check_in_date])
date.parse(params[:reservation][:check_in_date])
date.parse(params[:reservation][:check_in_date]
params[:reservation][:check_in_date]
params[:reservation]
params[reservation]
params[:check_in_date]
@date = Date.parse(params[check_in_date])
params
c
s
c
listing_params
c
listing_params
listingf_params
exit
listing_params
c
@user
exit
listing_params
current_user
exit
@listings = Listing.where(city: params[:listing][:city])
params
c
exit
@listing.avatars
@listing
exit
c
@listing
exit
